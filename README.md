# ESP8266

[![Build Status](https://travis-ci.org/yarkovaleksei/esp8266.svg?branch=master)](https://travis-ci.org/yarkovaleksei/esp8266)

Пример прошивки и панели управления для микроконтроллера ESP8266.

- - -
## Вступление

Перед тем как начать рекомендую ознакомиться с этой статьёй: [ESP8266 прошивка, программирование в Arduino IDE](https://habr.com/ru/post/371853/)
- - -

## Настройки

Переименовать файл `config.h.simple` в `config.h` и изменить настройки соответственно комментариям в файле.
- - -

## Файловая система

Сервер может хостить статику. Для этого надо загрузить файлы в файловую систему. Сделать это можно так:
1. В каталоге `./data` выполнить команду `for file in $(\ls -A1); do curl -F "file=@$PWD/$file" http://esp8266.local/files; done`

Для удаления файлов так же доступен роут `/files`, но запрос должен быть методом `HTTP_DELETE`:
1. В каталоге `./data` выполнить команду `for file in $(\ls -A1); do curl -X DELETE http://esp8266.local/files?file=$file; done`
- - -

## Тестирование роутов

Для примера в репозиторий добавлена коллекция для Postman. Она лежит в файле [ESP8266.postman_collection.json](./postman/ESP8266.postman_collection.json). Нужно импортировать её в Postman и можно приступать к работе.

Обработчики роута `/files` стоит удалить после настройки устройства. Это необязательно, но всё-таки чуть улучшит безопасность устройства.